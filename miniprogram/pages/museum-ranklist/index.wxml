<!-- index.wxml -->
<page-meta page-style="overflow: hidden;">
  <navigation-bar homeButton="{{true}}" title="博物馆排行榜" color="black" background="#FFF" styleType="dark" style="text-align: center;" />
  <view class="player-area">
  <player-comp
    bindClickPlayerComp="handleClickPlayerComp"
  ></player-comp>
  </view>
  <view class="page-museum-ranklist">
    <!-- <view class="loc-area">
      <loc-select2 locStyle="padding: 0 40rpx" selectCityId="{{curCityId}}" citylist="{{cityList}}" selectCityList="{{selectCityList}}" bindClickCityPanel="handleClickCityPanel" pannelStyle="" />
    </view> -->
    <view class="content-area">
      <scroll-view
        wx:if="{{museumList.length}}"
				scroll-y="{{true}}"
				show-scrollbar="{{false}}"
				enhanced="{{true}}"
				bindscroll="scroll"
				style="height: calc(100vh - 164px - 94rpx)"
			>
        <view class="scroll-content">
          <block wx:for="{{museumList}}" wx:key="cityid">
            <view class="city-item" 
              bindtap="handleClickMuseum" 
              data-idx="{{item.id}}"
              data-is-catch-event="{{true}}" 
              data-event-id="museum_list_click_e7"
              data-event-params="{{ {id: item.id, name: item.name} }}"
              style="background: url({{item.image_url}}) no-repeat center center / cover">
              <!-- <image class="city-item-img" src="{{item.img}}" mode="aspectFill" /> -->
              <view class="city-item-mask" />
              <view class="name-group">
                <image wx:if="{{index === 0 || (index === 1) || (index === 2)}}" class="rank-img" src="/static/images/jiangpai-{{index+1}}.png" mode="aspectFill" />
                <text class="city-item-name">{{item.name}}</text>
              </view>
              
              <!-- <view class="city-museum">
                <text class="city-museum-text">{{item.description}}</text>
                <image src="/static/images/arr-r.png" alt="arrow" class="museum-arrow" />
              </view> -->
              <view class="zhanlan-group">
                <image src="/static/images/zhanlan_icon.png" alt="museum" class="city-museum-arrow" />
                <view class="zhanlan-txt">{{item.exhibition_num}}个展览</view>
              </view>
            </view>
          </block>
        </view>
      </scroll-view>
      <view wx:if="{{!showLoading && museumList.length === 0}}" class="empty-content">
        <image src="/static/images/kong.png" class="empty-img" mode="aspectFill" />
        <view class="empty-text">暂无内容</view>
      </view>
    </view>
    <loading show="{{showLoading}}"></loading>
    <view>
      <custom-tab-bar></custom-tab-bar>
    </view>
  </view>
    
</page-meta>