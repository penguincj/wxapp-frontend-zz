<!-- index.wxml -->
<page-meta page-style="overflow: hidden; {{loading? 'visibility: hidden;': ''}}" >
  <navigation-bar back="{{false}}" extClass="transparent" color="black" background="#FFF" style="text-align: center;">
    <view slot="left">
      <view class="loc-area">
        <loc-select3 
          locStyle="margin: 0 40rpx;" 
          pannelStyle="padding: 30rpx 20rpx; margin-top: 24rpx; " 
          selectedId="{{curCityId}}" 
          selectedName="{{cityName}}" 
          list="{{cityList}}" 
          bindCityChange="handleCityChange"
          bindClickReLoc="handleClickReLoc"
          bindCityPannelOpenStateChange="handleCityPannelOpenStateChange"
        />
      </view>
    </view>
  </navigation-bar>
  <player-comp 
    id="player"
    isNewStyle="{{true}}" 
    exhibitName="{{curExhibitName}}"
    exhibitImg="{{curExhibitImg}}"
    bindPlayerCompIndexChange="handlePlayerCompIndexChange"
    bindClickPlayerComp="handleClickPlayerComp"
  ></player-comp>
  <view class="index-page page-section page-section-spacing full-height">
      <scroll-view scroll-y="{{true}}" show-scrollbar="{{false}}" enhanced="{{true}}" bindscrolltolower="handleScrolltolower" style="height: calc(100vh - 164rpx)">
        <view class="banner-area">
          <swiper-banner list="{{bannerList}}" currentIndex="{{bannerCurrentIndex}}" bindClickItem="handleBannerClickItem" bindSwiperChange="handleBannerSwiperChange"></swiper-banner>
        </view>
        <view class="exhibition-area">
          <view class="title">热门展览</view>
          <view class="exhibition-list-area">
            <exhibition-scroll list="{{showExhibitionList}}" totalLen="{{exhibitionList.length}}" bindClickItem="handleExClickItem" bindClickMore="handleClickMoreExh"></exhibition-scroll>
          </view>
        </view>
        <view class="daily-listen-area">
          <daily-listen title="每日一听" exhibition="{{dailyListen}}" bindPlayDailyListen="handlePlayDailyListen"></daily-listen>
        </view>
        <view class="museum-list-area">
          <swiper-card3 title="热门博物馆" len="{{museumList.length}}" list="{{museumArrayList}}" smalllist="{{museumList}}" bindClickItem="handleMuseumClickItem"></swiper-card3>
        </view>
        <view class="comment-list-area">
          <comment-list
            pageindex="index"
            title="热门评论"
            comments="{{comment_list}}"
          ></comment-list>
          <view class="loading" wx:if="{{comment_loading}}">加载中...</view>
          <view class="no-more" wx:if="{{!hasMore && !comment_loading}}">没有更多数据了</view>
        </view>
      </scroll-view>
    </view>
  <view>
    <custom-tab-bar></custom-tab-bar>
  </view>
  
</page-meta>